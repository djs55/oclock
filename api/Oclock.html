<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Oclock" rel="Chapter" href="Oclock.html"><link title="Clock access " rel="Section" href="#2_Clockaccess">
<link title="Clock identifiers " rel="Section" href="#2_Clockidentifiers">
<link title="Current process/thread's clock identifiers " rel="Subsection" href="#3_Currentprocessthreadsclockidentifiers">
<link title="Remote clock identifier " rel="Subsection" href="#3_Remoteclockidentifier">
<title>Oclock</title>
</head>
<body>
<div class="navbar">&nbsp;<a href="index.html">Up</a>
&nbsp;</div>
<center><h1>Module <a href="type_Oclock.html">Oclock</a></h1></center>
<br>
<pre><span class="keyword">module</span> Oclock: <code class="code">sig</code> <a href="Oclock.html">..</a> <code class="code">end</code></pre>Oclock: precise POSIX clock for OCaml
<p>

  This module give access to the <code class="code">clock_gettime (2)</code> family of functions to
  Ocaml programs.
<p>

  If this module allows to access time of real- or CPU-time clocks in
  nanoseconds, the actual precision of the clocks might be much coarser.
  Also, the resolution of a clock, <a href="Oclock.html#VALgetres"><code class="code">Oclock.getres</code></a> should indicate the period of the
  timer used for this clock, but the actual precision of the clock greatly
  depends on the CPU (watch out for frequency scaling!) and its time source.
  You can estimate the precision available on your platform with the shipped
  example <code class="code">examples/realtime</code>.<br>
<hr width="100%">
<pre><span class="keyword">type</span> <a name="TYPEclockid"></a><code class="type"></code>clockid = <code class="type">int</code> </pre>
<div class="info">
Clock identifier type<br>
</div>

<br>
<a name="2_Clockaccess"></a>
<h2>Clock access </h2><br>
<pre><span class="keyword">val</span> <a name="VALgetres"></a>getres : <code class="type"><a href="Oclock.html#TYPEclockid">clockid</a> -> int64</code></pre><div class="info">
Gets the clock's resolution in nanoseconds.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALgettime"></a>gettime : <code class="type"><a href="Oclock.html#TYPEclockid">clockid</a> -> int64</code></pre><div class="info">
Gets the clock's time in nanoseconds.<br>
</div>
<pre><span class="keyword">val</span> <a name="VALsettime"></a>settime : <code class="type"><a href="Oclock.html#TYPEclockid">clockid</a> -> int64 -> unit</code></pre><div class="info">
Sets the clock's time in nanoseconds.<br>
</div>
<br>
The three above functions raise <code class="code">Invalid_argument</code> if the clock identifier
 is not supported, and a <code class="code">Failure</code> if the call fails for any ohter reason
 (including permission problems).<br>
<br>
<a name="2_Clockidentifiers"></a>
<h2>Clock identifiers </h2><br>
<br>
<a name="3_Currentprocessthreadsclockidentifiers"></a>
<h3>Current process/thread's clock identifiers </h3><br>
<pre><span class="keyword">val</span> <a name="VALrealtime"></a>realtime : <code class="type"><a href="Oclock.html#TYPEclockid">clockid</a></code></pre><div class="info">
Realtime (always valid)<br>
</div>
<pre><span class="keyword">val</span> <a name="VALmonotonic"></a>monotonic : <code class="type"><a href="Oclock.html#TYPEclockid">clockid</a></code></pre><div class="info">
Monotonic (not subject to system time change)<br>
</div>
<pre><span class="keyword">val</span> <a name="VALprocess_cputime"></a>process_cputime : <code class="type"><a href="Oclock.html#TYPEclockid">clockid</a></code></pre><div class="info">
Current process CPU-time clock<br>
</div>
<pre><span class="keyword">val</span> <a name="VALthread_cputime"></a>thread_cputime : <code class="type"><a href="Oclock.html#TYPEclockid">clockid</a></code></pre><div class="info">
Current thread CPU-time clock<br>
</div>
<pre><span class="keyword">val</span> <a name="VALmonotonic_raw"></a>monotonic_raw : <code class="type"><a href="Oclock.html#TYPEclockid">clockid</a></code></pre><div class="info">
Another monotonic clock (not always present, since Linux 2.6.28;
  Linux-specific), not subject to NTP adjustements<br>
</div>
<br>
<a name="3_Remoteclockidentifier"></a>
<h3>Remote clock identifier </h3><br>
<pre><span class="keyword">val</span> <a name="VALgetcpuclockid"></a>getcpuclockid : <code class="type">int -> <a href="Oclock.html#TYPEclockid">clockid</a></code></pre><div class="info">
Gets the CPU-time clock identifier of a process (given its PID).
<p>

  Raises an <code class="code">Invalid_argument</code> exception if the provided integer is not a valid
  PID, and a <code class="code">Failure</code> if the calls fails for any other reason (including
  permission problems).<br>
</div>
<pre><span class="keyword">val</span> <a name="VALpthread_getcpuclockid"></a>pthread_getcpuclockid : <code class="type">int -> <a href="Oclock.html#TYPEclockid">clockid</a></code></pre><div class="info">
Gets the CPU-time clock identifier of a thread given its pthread identifier,
  as returned by <code class="code">Thread.id</code> (but only if you use real POSIX threads <code class="code">-thread</code>
  and not VM threads <code class="code">-vmthread</code>).
<p>

  Raises an <code class="code">Invalid_argument</code> exception if the provided integer is not a valid
  thread identifier, and a <code class="code">Failure</code> if the calls fails for any other reason
  (including permission problems).<br>
</div>
</body></html>